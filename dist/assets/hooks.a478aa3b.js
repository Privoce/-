import{R as b,a as o,j as L,F as T,r as e,_ as n,i as O,b as P,d as I}from"./index.adf820fb.js";const N=b.createContext({}),z=!0;function V({baseColor:t,highlightColor:a,width:i,height:d,borderRadius:E,circle:g,direction:p,duration:F,enableAnimation:m=z}){const u={};return p==="rtl"&&(u["--animation-direction"]="reverse"),typeof F=="number"&&(u["--animation-duration"]=`${F}s`),m||(u["--pseudo-element-display"]="none"),(typeof i=="string"||typeof i=="number")&&(u.width=i),(typeof d=="string"||typeof d=="number")&&(u.height=d),(typeof E=="string"||typeof E=="number")&&(u.borderRadius=E),g&&(u.borderRadius="50%"),typeof t<"u"&&(u["--base-color"]=t),typeof a<"u"&&(u["--highlight-color"]=a),u}function he({count:t=1,wrapper:a,className:i,containerClassName:d,containerTestId:E,circle:g=!1,style:p,...F}){var m,u,r;const l=b.useContext(N),s={...F};for(const[C,_]of Object.entries(F))typeof _>"u"&&delete s[C];const c={...l,...s,circle:g},h={...p,...V(c)};let B="react-loading-skeleton";i&&(B+=` ${i}`);const w=(m=c.inline)!==null&&m!==void 0?m:!1,f=[],D=Math.ceil(t);for(let C=0;C<D;C++){let _=h;if(D>t&&C===D-1){const A=(u=_.width)!==null&&u!==void 0?u:"100%",y=t%1,x=typeof A=="number"?A*y:`calc(${A} * ${y})`;_={..._,width:x}}const v=o("span",{className:B,style:_,children:"\u200C"},C);w?f.push(v):f.push(L(T,{children:[v,o("br",{})]}))}return o("span",{className:d,"data-testid":E,"aria-live":"polite","aria-busy":(r=c.enableAnimation)!==null&&r!==void 0?r:z,children:a?f.map((C,_)=>o(a,{children:C},_)):f})}function W(t){var a;if(typeof localStorage>"u")return null;const i=(a=localStorage.getItem(t))!==null&&a!==void 0?a:"null";try{return JSON.parse(i)}catch{}return i}function R(t,a){return typeof localStorage>"u"?null:localStorage.setItem(t,JSON.stringify(a))}function k(t,a){const i=W(t);return i===null?a:i}function G(t,a){const[i,d]=e.exports.useState(()=>k(t,a)),E=e.exports.useRef(!1),g=e.exports.useRef(!1),p=e.exports.useMemo(()=>`rooks-${t}-localstorage-update`,[t]);e.exports.useEffect(()=>{(!E.current||!g.current)&&R(t,i)},[t,i]);const F=e.exports.useCallback(s=>{var c;if(s.storageArea===localStorage&&s.key===t)try{E.current=!0;const h=JSON.parse((c=s.newValue)!==null&&c!==void 0?c:"null");i!==h&&d(h)}catch{}},[t,i]);e.exports.useEffect(()=>typeof window<"u"?(window.addEventListener("storage",F),()=>{window.removeEventListener("storage",F)}):()=>{},[F]);const m=e.exports.useCallback(s=>{try{g.current=!0;const{newValue:c}=s.detail;i!==c&&d(c)}catch{}},[i]);e.exports.useEffect(()=>typeof document<"u"?(document.addEventListener(p,m),()=>{document.removeEventListener(p,m)}):()=>{},[p,m]);const u=e.exports.useCallback(s=>{if(typeof document<"u"){const c=new CustomEvent(p,{detail:{newValue:s}});document.dispatchEvent(c)}},[p]),r=e.exports.useCallback(s=>{E.current=!1,g.current=!1,d(s),u(s)},[u]),l=e.exports.useCallback(()=>{localStorage.removeItem(t)},[t]);return[i,r,l]}const j=e.exports.lazy(()=>n(()=>import("./index.d32d1eaa.js"),["assets/index.d32d1eaa.js","assets/index.adf820fb.js","assets/util.430bf2a4.js","assets/index.esm.9ed488a3.js","assets/iconBase.a38ac1cb.js","assets/useLazyQuery.cb0b2edd.js"])),U=e.exports.lazy(()=>n(()=>import("./index.d54f7309.js"),["assets/index.d54f7309.js","assets/index.adf820fb.js"])),H=e.exports.lazy(()=>n(()=>import("./index.5c0a2521.js"),["assets/index.5c0a2521.js","assets/index.adf820fb.js","assets/icon.logo.d6d18bf6.js","assets/index.esm.01905522.js","assets/iconBase.a38ac1cb.js","assets/util.430bf2a4.js","assets/bodyScrollLock.esm.8c6ab430.js","assets/icon.close.46ef2662.js","assets/sortable.complete.esm.2f95bf31.js"])),Y=e.exports.lazy(()=>n(()=>import("./index.099f72a8.js"),["assets/index.099f72a8.js","assets/index.adf820fb.js","assets/useData.fb1067fc.js","assets/index.esm.31b1f64b.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js"])),J=e.exports.lazy(()=>n(()=>import("./index.3da0aa62.js"),["assets/index.3da0aa62.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js","assets/useData.fb1067fc.js","assets/index.esm.31b1f64b.js"])),$=e.exports.lazy(()=>n(()=>import("./index.1b9d4269.js"),["assets/index.1b9d4269.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js"])),K=e.exports.lazy(()=>n(()=>import("./index.1f45039e.js"),["assets/index.1f45039e.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js","assets/Close.4951d652.js","assets/useData.fb1067fc.js","assets/index.esm.31b1f64b.js"])),M=e.exports.lazy(()=>n(()=>import("./index.0378b128.js"),["assets/index.0378b128.js","assets/index.adf820fb.js"])),Z=e.exports.lazy(()=>n(()=>import("./index.7135f803.js"),["assets/index.7135f803.js","assets/index.adf820fb.js","assets/index.esm.9ed488a3.js","assets/iconBase.a38ac1cb.js","assets/GoAuth.9e5b15b9.js","assets/index.7e33b9da.js","assets/index.76cc53c3.js","assets/index.7b8e2464.js","assets/index.esm.95d4feb0.js","assets/index.esm.4b8699df.js","assets/index.esm.7e5f9504.js","assets/index.3e85e345.js"])),q=e.exports.lazy(()=>n(()=>import("./index.17560148.js"),["assets/index.17560148.js","assets/index.adf820fb.js","assets/index.a19eac14.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js","assets/index.7b8e2464.js","assets/index.76cc53c3.js","assets/index.7e33b9da.js"])),Q=e.exports.lazy(()=>n(()=>import("./index.d10ad7a6.js"),["assets/index.d10ad7a6.js","assets/index.adf820fb.js","assets/index.a19eac14.js","assets/index.7b8e2464.js","assets/index.76cc53c3.js","assets/index.5dd434f4.css"])),X=e.exports.lazy(()=>n(()=>import("./index.55e5a931.js"),["assets/index.55e5a931.js","assets/index.adf820fb.js"])),ee=e.exports.lazy(()=>n(()=>import("./index.b2ea0585.js"),["assets/index.b2ea0585.js","assets/index.adf820fb.js","assets/index.esm.c817908c.js","assets/iconBase.a38ac1cb.js","assets/index.esm.183302e8.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js"])),te=e.exports.lazy(()=>n(()=>import("./index.9b05a527.js"),["assets/index.9b05a527.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js","assets/GoAuth.9e5b15b9.js","assets/index.esm.183302e8.js","assets/useLazyQuery.cb0b2edd.js"])),ue=e.exports.lazy(()=>n(()=>import("./index.e15c56c1.js"),["assets/index.e15c56c1.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js"])),oe=e.exports.lazy(()=>n(()=>import("./index.d4069bde.js"),["assets/index.d4069bde.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js","assets/useData.fb1067fc.js","assets/index.esm.31b1f64b.js"])),ie=e.exports.lazy(()=>n(()=>import("./index.847856e3.js"),["assets/index.847856e3.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js","assets/Close.4951d652.js","assets/useData.fb1067fc.js","assets/index.esm.31b1f64b.js"])),se=e.exports.lazy(()=>n(()=>import("./index.f3b10b59.js"),["assets/index.f3b10b59.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js","assets/Close.4951d652.js"])),re=e.exports.lazy(()=>n(()=>import("./index.677ffc26.js"),["assets/index.677ffc26.js","assets/index.adf820fb.js","assets/swiper-bundle.min.dcb7f685.js","assets/swiper-bundle.028243bf.css","assets/index.esm.31b1f64b.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js"])),ne=e.exports.lazy(()=>n(()=>import("./index.73108fd8.js"),["assets/index.73108fd8.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js","assets/Close.4951d652.js"])),ce=e.exports.lazy(()=>n(()=>import("./index.1a95744a.js"),["assets/index.1a95744a.js","assets/index.adf820fb.js","assets/swiper-bundle.min.dcb7f685.js","assets/swiper-bundle.028243bf.css","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js","assets/useData.fb1067fc.js","assets/index.esm.31b1f64b.js"])),ae=e.exports.lazy(()=>n(()=>import("./index.da452404.js"),["assets/index.da452404.js","assets/index.adf820fb.js"])),le=e.exports.lazy(()=>n(()=>import("./index.b5a4eeb7.js"),["assets/index.b5a4eeb7.js","assets/index.adf820fb.js"])),de=e.exports.lazy(()=>n(()=>import("./index.593dbed5.js"),["assets/index.593dbed5.js","assets/index.adf820fb.js","assets/Loading.16593da1.js","assets/index.esm.95d4feb0.js","assets/iconBase.a38ac1cb.js"]));let pe={searchs:{preset:!0,type:"search",title:"\u641C\u7D22\u5F15\u64CE",description:"\u767E\u5EA6\u3001\u8C37\u6B4C\u3001\u5FC5\u5E94",enableSetting:!0,compact:!0,disableScroll:!0,comp:o(U,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.searchs.png",created:"2020-12-14",updated:"2021-03-16"},navs:{preset:!0,type:"nav",title:"\u5BFC\u822A",description:"\u9875\u9762\u5BFC\u822A\u96C6\u5408\u5730",compact:!0,disableScroll:!0,comp:o(H,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.navs.png",created:"2020-12-12",updated:"2021-03-19"},"covid-info":{title:"\u{1F1E8}\u{1F1F3} \u56FD\u5185\u65B0\u51A0\u75AB\u60C5\u6982\u51B5",description:"\u5FEB\u901F\u4E86\u89E3\u56FD\u5185\u6BCF\u65E5\u75AB\u60C5\u6982\u51B5",compact:!0,preset:!1,disableScroll:!0,comp:o(K,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.covid.data.png",created:"2020-12-24",updated:"2020-12-28",locales:["zh-CN"]},"us-covid-info":{title:"\u{1F1FA}\u{1F1F8} \u7F8E\u56FD\u65B0\u51A0\u75AB\u60C5\u6982\u51B5",description:"\u5FEB\u901F\u4E86\u89E3\u7F8E\u5229\u575A\u6BCF\u65E5\u75AB\u60C5\u6982\u51B5",compact:!0,disableScroll:!0,comp:o(q,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.usa.covid.png",created:"2021-02-01",updated:"2021-02-02",locales:["en-US"]},"wb-hot":{title:"\u5FAE\u535A\u70ED\u641C",description:"\u5FAE\u535A\u5B9E\u65F6\u70ED\u641C\uFF0C\u4F60\u60F3\u4E86\u89E3\u7684\uFF0C\u90FD\u5728\u8FD9\u91CC\uFF01",defaultSize:"large",sizes:["middle","large"],comp:o(Y,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.hot.weibo.png",created:"2020-12-17",updated:"2020-12-28",locales:["zh-CN"]},webrowse:{extension:!0,compact:!0,preset:!0,title:"Webrowse\u5C0F\u7EC4\u4EF6",description:"Webrowse\u94FE\u63A5\u5386\u53F2\u8BB0\u5F55",defaultSize:"large",sizes:["middle","large"],comp:o(j,{}),enableSetting:!1,screenshot:"https://static.nicegoodthings.com/privoce/widget.vera.history.jpg",created:"2021-03-22",updated:"2021-03-22"},"my-agenda":{preset:!1,title:"\u6211\u7684\u65E5\u7A0B",description:"\u5FEB\u6377\u67E5\u770B\u60A8\u7684\u65E5\u5E38\u65E5\u7A0B\uFF0C\u76EE\u524D\u4EC5\u652F\u6301\u8C37\u6B4C\u65E5\u5386",defaultSize:"large",sizes:["middle","large"],comp:o(Z,{}),enableSetting:!0,screenshot:"https://static.nicegoodthings.com/privoce/widget.gc.png",created:"2021-02-24",updated:"2021-03-14",locales:["en-US"]},weather:{loadType:"script",preset:!1,title:"\u4ECA\u65E5\u5929\u6C14",description:"\u5168\u65B9\u4F4D\uFF0C\u591A\u89D2\u5EA6\uFF0C\u4E3A\u60A8\u63D0\u4F9B\u5929\u6C14\u4FE1\u606F\u3002",compact:!0,disableScroll:!0,comp:o($,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.weather.png",created:"2020-12-04",updated:"2020-12-23",locales:["zh-CN"]},"relationship-calc":{title:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466} \u4EB2\u621A\u5173\u7CFB\u8BA1\u7B97\u5668",description:"\u653E\u5047\u56DE\u5BB6\u8FC7\u5E74\u65F6\uFF0C\u5F80\u5F80\u4F1A\u641E\u4E0D\u6E05\u695A\u54EA\u4F4D\u4EB2\u621A\u5E94\u8BE5\u558A\u4EC0\u4E48\u79F0\u547C\uFF0C\u5F88\u662F\u5C34\u5C2C\u3002\u4EB2\u621A\u5173\u7CFB\u8BA1\u7B97\u5668\u5E2E\u4F60\u907F\u514D\u8FD9\u79CD\u5C34\u5C2C\uFF01",defaultSize:"large",sizes:["large"],compact:!0,disableScroll:!0,comp:o(X,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.relationship.calc.png",created:"2021-02-08",locales:["zh-CN"]},"timezone-clock":{title:"\u56FD\u9645\u65F6\u949F",description:"\u4FBF\u6377\u67E5\u770B\u591A\u4E2A\u65F6\u533A\u65F6\u95F4\uFF0C\u6700\u591A\u652F\u6301\u6DFB\u52A0\u4E09\u4E2A\u3002",enableSetting:!0,compact:!0,disableScroll:!0,comp:o(Q,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.world.clock.png",created:"2021-01-18",updated:"2021-02-02"},yiyan:{title:"\u4E00\u8A00",description:"\u7B80\u5355\u6765\u8BF4\uFF0C\u4E00\u8A00\u6307\u7684\u5C31\u662F\u4E00\u53E5\u8BDD\uFF0C\u53EF\u4EE5\u662F\u52A8\u6F2B\u4E2D\u7684\u53F0\u8BCD\uFF0C\u4E5F\u53EF\u4EE5\u662F\u7F51\u7EDC\u4E0A\u7684\u5404\u79CD\u5C0F\u6BB5\u5B50\u3002 \u6216\u662F\u611F\u52A8\uFF0C\u6216\u662F\u5F00\u5FC3\uFF0C\u6709\u6216\u662F\u5355\u7EAF\u7684\u56DE\u5FC6\u3002",compact:!0,disableScroll:!0,comp:o(se,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.yiyan.png",created:"2021-01-18",updated:"2021-01-27",locales:["zh-CN"]},"pet-pics":{title:"\u5BA0\u7269\u56FE\u96C6",description:"\u840C\u5BA0\u56FE\uFF1A\u732B\u732B\u72D7\u72D7\u4EE5\u53CA\u53EF\u7231\u7684\u5C0F\u9E1F",enableSetting:!0,compact:!0,disableScroll:!0,comp:o(re,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.pet.pics.png",created:"2021-02-3",locales:["zh-CN"]},"mp-daily-hot":{title:"\u516C\u4F17\u53F724\u5C0F\u65F6\u70ED\u6587",description:"\u516C\u4F17\u53F7\u5B9E\u65F6\u70ED\u6587\uFF0C\u4F60\u60F3\u4E86\u89E3\u7684\uFF0C\u90FD\u5728\u8FD9\u91CC\uFF01",sizes:["middle","large"],comp:o(J,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.hot.mp.png",locales:["zh-CN"]},"daily-shici":{title:"\u4ECA\u65E5\u8BD7\u8BCD",description:"\u6BCF\u5929\u4E00\u53E5\u8BD7\u8BCD\uFF0C\u6839\u636E\u65F6\u95F4\u3001\u5730\u70B9\u3001\u5929\u6C14\u3001\u4E8B\u4EF6\u667A\u80FD\u63A8\u8350",compact:!0,sizes:["middle","large"],comp:o(ne,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.daily.shici.png",locales:["zh-CN"]},"zhihu-hot":{title:"\u77E5\u4E4E\u70ED\u641C\u699C",enableSetting:!0,sizes:["middle","large"],description:"\u77E5\u4E4E\u5B9E\u65F6\u70ED\u641C\uFF0C\u4F60\u60F3\u4E86\u89E3\u7684\uFF0C\u90FD\u5728\u8FD9\u91CC\uFF01",compact:!0,comp:o(ue,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.hot.zhihu.png",locales:["zh-CN"]},"gh-dashboard":{title:"Github\u4E2A\u4EBA\u4ED3\u5E93",sizes:["middle","large"],description:"\u901A\u8FC7\u6388\u6743\uFF0C\u5C55\u73B0\u60A8\u4E2A\u4EBA\u4ED3\u5E93\u5217\u8868\uFF0C\u5FEB\u901F\u9884\u89C8\u6BCF\u4E2A\u4ED3\u5E93\u7684\u6982\u51B5\u3002",compact:!0,comp:o(te,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.github.repo.png"},"bing-daily-pic":{title:"\u5FC5\u5E94\u58C1\u7EB8",description:"\u5FEB\u901F\u6D4F\u89C8\u4E0E\u4E0B\u8F7D\u5FC5\u5E94\u9AD8\u6E05\u58C1\u7EB8",compact:!0,disableScroll:!0,comp:o(ce,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.bing.pics.png",created:"2021-01-18",updated:"2021-01-27",locales:["zh-CN"]},"douban-topic-hot":{title:"\u8C46\u74E324\u5C0F\u65F6\u8BDD\u9898",description:"\u76F4\u8FBE\u8C46\u74E324\u5C0F\u65F6\u70ED\u95E8\u8BDD\u9898",comp:o(oe,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.douban.topic.png",created:"2021-01-19",locales:["zh-CN"]},"youtube-sphere":{title:"Youtube Sphere",sizes:["middle","large"],description:"Let's see what did your friends liked in Youtube",comp:o(de,{}),screenshot:"https://static.nicegoodthings.com/works/vera/Ayjv7n.png",created:"2021-08-16"},"today-in-history":{title:"\u5386\u53F2\u4E0A\u7684\u4ECA\u5929",description:"\u5386\u53F2\u4E0A\u7684\u4ECA\u5929\uFF0C\u53D1\u751F\u4E86\u54EA\u4E9B\u8457\u540D\u4E8B\u4EF6\u5462\uFF1F",compact:!0,sizes:["middle","large"],comp:o(ie,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.today.in.history.png",created:"2021-03-03",locales:["zh-CN"]},"gh-trending":{title:"Github\u8D8B\u52BF",description:"GitHub\u8D8B\u52BF\u699C\uFF0C\u6709\u5F00\u53D1\u8005\u548C\u4ED3\u5E93\u4E24\u5927\u5206\u7C7B\uFF0C\u8BA9\u60A8\u4E0D\u518D\u9519\u8FC7GitHub\u70ED\u95E8\u4ED3\u5E93",compact:!0,sizes:["middle","large"],comp:o(ee,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.github.trending.png"},calc:{loadType:"iframe",title:"\u8BA1\u7B97\u5668",description:"\u4E00\u4E2A\u79D1\u5B66\u8BA1\u7B97\u5668",comp:o(ae,{}),defaultSize:"large",sizes:["fullscreen","middle","large"],disableScroll:!0,compact:!0,screenshot:"https://static.nicegoodthings.com/privoce/widget.calc.png"},"life-progress":{loadType:"iframe",title:"\u751F\u547D\u8FDB\u7A0B\u8BA1\u7B97\u5668",description:"\u8BA1\u7B97\u60A8\u8FD8\u80FD\u6D3B\u591A\u4E45\uFF0C\u53C8\u540D\uFF1A\u7126\u8651\u5236\u9020\u5668\u3002\u{1F625}",comp:o(M,{}),defaultSize:"large",disableScroll:!0,compact:!0,screenshot:"https://static.nicegoodthings.com/privoce/widget.life.progress.png",created:"2021-02-03",locales:["zh-CN"]},"yin-note":{title:"\u5370\u8C61\u7B14\u8BB0",description:"\u5FEB\u901F\u5F55\u5165\u5370\u8C61\u7B14\u8BB0\u3010\u6682\u672A\u5F00\u53D1\u3011",disableScroll:!0,comp:o(le,{}),screenshot:"https://static.nicegoodthings.com/privoce/widget.yinxiang.note.png",locales:["zh-CN"]}};const Ee=navigator.language=="zh-CN"?"zh-CN":"en-US",Ce=(t=null)=>{const{getWidgetSetting:a,updateWidgetSetting:i}=Fe();let d=Object.entries(pe).filter(([,r])=>{var h;let l=r.preset==!0;return r.locales===void 0&&l?!0:((h=r.locales)==null?void 0:h.includes(Ee))&&l}).map(([r])=>r);const E=a({key:"local",name:"widgets"})||d,[g,p]=e.exports.useState(E);return e.exports.useEffect(()=>{t&&p(t)},[t]),{widgets:g,addWidget:r=>{p(l=>{let s=[...l,r];return i({name:"widgets",data:s}),s})},removeWidget:r=>{p(l=>{let s=l.filter(c=>c!==r);return i({name:"widgets",data:s}),s})},updateWidgetData:r=>{p(r),i({name:"widgets",data:r})}}},ge="WIDGET_SETTINGS_DATA",S={key:"local",name:"common"},Fe=()=>{const[t,a]=G(ge,{}),{authClient:i}=O.exports.useAuthing({appId:P,appHost:I}),d=async u=>{if(u==null){a(u);return}u.timestamp=new Date().getTime(),a({...u});let{status:r}=await i.checkLoginStatus();r&&i.setUdv("widget_data",JSON.stringify(u))};let E={name:"common",key:"local",data:null};const g=(u=E)=>{const{key:r,name:l,data:s}=Object.assign({},E,u);let c=t||{};c[l]?c[l]={...c[l],[r]:s}:c[l]={[r]:s},d(c)},p=e.exports.useCallback((u=S)=>{const{key:r,name:l}=Object.assign({},S,u);if(!t)return null;let s=t[l];return s&&s[r]?s[r]:null},[t]);return{widgetSettings:t,getWidgetSetting:p,updateWidgetSetting:g,importWidgetSettings:u=>{d(JSON.parse(u))},clearWidgetSettings:()=>{d(null)}}};export{he as S,pe as W,Ce as a,Fe as u};
